{% extends 'base_template.html.twig' %}

{% block title %}
	VHS | Inscription
{% endblock %}

{% block content %}
	<div class="container py-5">
		<div class="text-center">
			<img src="{{ constant('WEBSITE_LOGO') }}" height="95" width="155" alt="Logo" class="mb-3">
		</div>
		<form id="registrationForm" action="index.php?controller=utilisateur&methode=checkInfoInscription" method="POST" class="col-12 col-md-8 col-lg-6 mx-auto bg-dark text-white p-4 rounded" novalidate>
			<div class="text-center mb-4">
				<h2>Cr√©er un Compte</h2>
			</div>

			<div class="row">
				<div class="col-md-6 mb-3">
					<label for="idantifiant" class="form-label">Identifiant</label>
					<input type="text" class="form-control" id="idantifiant" name="idantifiant" minlength="3" maxlength="20" required>
					<div class="invalid-feedback">
						L'identifiant doit faire entre 3 et 20 caract√®res
					</div>
				</div>
				<div class="col-md-6 mb-3">
					<label for="pseudo" class="form-label">Pseudo</label>
					<input type="text" class="form-control" id="pseudo" name="pseudo" minlength="3" maxlength="50" required>
					<div class="invalid-feedback">
						Le pseudo doit faire entre 3 et 50 caract√®res
					</div>
				</div>
			</div>

			<div class="mb-3">
				<label for="mail" class="form-label">Email</label>
				<input type="email" class="form-control" id="mail" name="mail" pattern="[^@\s]+@[^@\s]+\.[^@\s]+" required>
				<div class="invalid-feedback">
					Veuillez entrer une adresse email valide
				</div>
			</div>

			<div class="mb-3">
				<label for="date" class="form-label">Date de naissance</label>
				<input type="date" class="form-control" id="date" name="date" required>
				<div class="invalid-feedback">
					Veuillez s√©lectionner votre date de naissance
				</div>
			</div>

			<div class="mb-3">
				<label for="mdp" class="form-label">Mot de passe</label>
				<div class="input-group">
					<input type="password" class="form-control" id="mdp" name="mdp" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" required>
					<button class="btn btn-outline-secondary" type="button" id="togglePassword">üëÅÔ∏è</button>
					<div class="invalid-feedback text-danger">
						Le mot de passe doit contenir au moins 8 caract√®res, une majuscule, une minuscule, un chiffre et un caract√®re sp√©cial.
					</div>
				</div>
				
			</div>

			<div class="mb-3">
				<label for="vmdp" class="form-label">Confirmation Mot de passe</label>
				<input type="password" class="form-control" id="vmdp" name="vmdp" required>
				<div class="invalid-feedback">
					Les mots de passe ne correspondent pas
				</div>
			</div>

			<div class="mb-3 form-check">
				<input type="checkbox" class="form-check-input" id="conditions" name="conditions" required>
				<label class="form-check-label" for="conditions">
					J'accepte les
					<a href="#" data-bs-toggle="modal" data-bs-target="#afficherconditions">
						conditions d'utilisation
					</a>
				</label>
			</div>

			<button type="submit" class="btn btn-myprimary w-100">Cr√©er le compte</button>

			<div class="text-center mt-3">
				<a href="index.php?controller=utilisateur&methode=connexion" class="text-white">
					D√©j√† un compte ? Se connecter
				</a>
			</div>
		</form>
	</div>

	{% if messagederreur is defined %}
		<div class="toast show position-fixed top-0 end-0 m-3" role="alert" aria-live="assertive" aria-atomic="true">
			<div class="toast-header bg-danger text-white">
				<strong class="me-auto">Erreur</strong>
				<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
			</div>
			<div class="toast-body">
				{{ messagederreur }}
			</div>
		</div>
	{% endif %}

	{% include 'modals.html.twig' with { 'last_update_date': '08/01/2025' } %}

	<script src="JS/inscription.js"></script>
{% endblock %}
